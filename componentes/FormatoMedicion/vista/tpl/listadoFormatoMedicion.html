{{COMODIN}}<div class="ruta">{{titulo|raw}}</div>{{crear|raw}}<table align="center" width="100%" cellpadding="0" cellspacing="0" class="tablaGeneral" id="tablaOrdenCompra">    <div id="ordencompra"></div></table>  <script>$(function() {    $("#ordencompra").bs_grid({        ajaxFetchDataURL: "index_blank.php?component=FormatoMedicion&method=ajaxListaJobOrder&idMenu="+{{idMenu}}+"&idResumenJob="+{{idResumenJob}},        row_primary_key: "id",        columns: [            {field: "avance", header: "Avance"},            {field: "estado", header: "Estado Job Order"},            {field: "id", header: "Id Formato Medicion" },                 {field: "nombreUsuario", header: "Asesor Comercial"},            {field: "anio", header: "Año"},            {field: "ciclo", header: "Ciclo"},            {field: "nombreCliente", header: "Cliente"},            {field: "nombreCategoria", header: "Categoria"},            {field: "fechaCreacion", header: "Fecha Creacion"},            {field: "canal", header: "Canal", visible: "no"},            {field: "areaMetropolitana", header: "Area Metropolitana", visible: "no"},            {field: "idResumenJob", header: "Resumen Job"},            {field: "acciones", header: "Acciones","sortable": "no"}                    ],        sorting: [            {sortingName: "Estado Job", field: "estado", order: "none"},            {sortingName: "Id Formato Medicion", field: "id", order: "none"},            {sortingName: "Asesor Comercial", field: "nombreUsuario", order: "none"},            {sortingName: "Año", field: "anio", order: "descending"},            {sortingName: "Ciclo", field: "Ciclo", order: "descending"},            {sortingName: "Categoria", field: "nombreCategoria", order: "none"},            {sortingName: "Canal", field: "canal", order: "none"},            {sortingName: "Area Metropolitana", field: "areaMetropolitana", order: "none"},            {sortingName: "fechaCreacion", field: "fechaCreacion", order: "none"}        ],        filterOptions: {            filters: [                {                    filterName: "avance", "filterType": "number", field: "avance", filterLabel: "Avance",                    filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "idResumenJob", "filterType": "number", field: "idResumenJob", filterLabel: "idResumenJob",                    filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "id", "filterType": "number", field: "id", filterLabel: "Id Formato Medicion",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "estado", "filterType": "text", field: "estado", filterLabel: "Estado",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "idUsuarioCreador", "filterType": "text", field: "nombreUsuario", filterLabel: "Asesor Comercial",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "anio", "filterType": "text", field: "anio", filterLabel: "Año",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "ciclo", "filterType": "text", field: "ciclo", filterLabel: "Ciclo",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "idCliente", "filterType": "text", field: "nombreCliente", filterLabel: "Cliente",                                        filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "idCategoria", "filterType": "text", field: "nombreCategoria", filterLabel: "Categoria",                    filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                },                {                    filterName: "fechaCreacion", "filterType": "date", field: "fechaCreacion", filterLabel: "Fecha Creacion",                    filter_interface: [                        {                            filter_element: "input",                            filter_element_attributes: {"type": "text"}                        }                    ]                }            ]            {{filtro|raw}}        }        /*debug_mode: "no",        onDatagridError: function(event, data) {            log = 'ERROR: ' + data.err_description + ' (' + data.err_code + ').';            console.log(log);                   },        onDebug: function(event, data) {            console.log(data.debug_message);        }*/    }); });	$(document).ready(function() {   $(".various").fancybox({		maxWidth	: 800,		maxHeight	: 1000,		fitToView	: true,		width		: '100%',		height		: '100%',		autoSize	: true,		closeClick	: false,		openEffect	: 'none',		closeEffect	: 'none'	});   });function verOrdenCompra(idUsuario){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=verCliente',		data:'id='+idUsuario,		success: function(msm){			$('#fancybox-inner').html(msm);        }	});}function agregarJobOrder(id_usuario){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=agregarJobOrder&idMenu='+{{idMenu}},		type: "POST",		success: function(msm){			$('#componenteCentral').html(msm);        }	});}function editarFormatoMedicion(id,idResumenJob){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=editarFormatoMedicion',		type: "POST",		data:'id='+id+'&idMenu='+{{idMenu}}+'&idResumenJob='+{{idResumenJob}},		success: function(msm){			$('#componenteCentral').html(msm);        }	});}function generarExcel(id){        window.open('index_blank.php?component=FormatoMedicion&method=generarExcel&id='+id);	//$.ajax({	//	url:'index_blank.php?component=FormatoMedicion&method=generarExcel',	//	type: "POST",	//	data:'id='+id+'&idMenu='+{{idMenu}}+'&idResumenJob='+{{idResumenJob}},	//	success: function(msm){        //            alert(msm);	//		$('#componenteCentral').html(msm);        //}	//});}function aprobarFormatoMedicion(id){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=aprobarFormatoMedicion',		type: "POST",		data:'id='+id+'&idMenu='+{{idMenu}}+'&metodoEnvio=Proceso',		success: function(msm){			$('#componenteCentral').html(msm);        }	});}function aprobarFormatoMedicionInicial(id){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=aprobarFormatoMedicion',		type: "POST",		data:'id='+id+'&idMenu='+{{idMenu}}+'&metodoEnvio=Inicial',		success: function(msm){			$('#componenteCentral').html(msm);        }	});}function aprobarFormatoMedicionItem(id){	$.ajax({		url:'index_blank.php?component=FormatoMedicion&method=aprobarFormatoMedicionItem',		type: "POST",		data:'id='+id+'&idMenu='+{{idMenu}},		success: function(msm){			$('#componenteCentral').html(msm);        }    });}function eliminarOrdenCompra(id, nombre){	if(confirm('Realmente desea eliminar la Orden de Compra '+nombre+' ?')){		$.ajax({		  type: "POST",		  url: 'index_blank.php?component=OrdenCompra&method=eliminarOrdenCompra&id='+id+'&idMenu='+{{idMenu}},		  success: function(msm){                      alert('Orden de Compra ' +nombre+ ' Eliminada');		   $('#componenteCentral').html(msm);		  }		});	}}var opt = {       colorRange:true,       colorRangeLimits: {        optimal: '91-100-green',        newRangeOne: '61-90-#4aa64f',        newRangeTwo: '41-60',        newRangeThree: '21-40-rgb(241,144,40)',        critical: '0-20'       },              animTime:1000,       forceAnim:true,       milestones: {        1: {         mlPos: 10,         mlId: false,         mlClass: 'bi-custom',         mlDim: '100%',                  mlHoverRange: 15,         mlLineWidth: 1        },        2: {         mlPos: 50,         mlId: false,         mlClass: 'bi-custom',         mlDim: '100%',                  mlHoverRange: 15,         mlLineWidth: 1        },        3: {         mlPos: 90,         mlId: false,         mlClass: 'bi-custom',         mlDim: '100%',                  mlHoverRange: 15,         mlLineWidth: 1        }    }   };		</script>