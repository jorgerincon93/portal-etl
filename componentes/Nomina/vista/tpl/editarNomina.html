{{COMODIN}}

<!-- Modal -->
<div class="modal fade" id="miModalEdit" tabindex="-1" role="dialog" aria-labelledby="miModalEdit" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="miModalEdit">{{titulo_tabla}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="container" name="envioDatos" id="envioDatos" action="javascript:EnviarFormulario()" method="POST">
          
  		<div class="row">
        <div class="col-md-6 mb-3">
            <label for="codigo">Codigo</label>          
            <input type="text" class="form-control" name="codigo" id="codigo" aria-describedby="codigo" placeholder="Codigo" value="{{datosNomina.codigo}}" required/>
        </div>
         <div class="col-md-6 mb-3">
            <label for="selectTipo">Tipo</label>
             <select class="form-control" id="selectTipo" name="selectTipo" required>
               {{select_tipo|raw}}
             </select>   
          </div>
        	<div class="col-md-6 mb-3">
            <label for="descript">Descripcion</label>
             <input type="text" class="form-control" name="descript" id="descript" aria-describedby="descript" placeholder="Descripcion" value="{{datosNomina.descripcion}}" required />
             <span class="help-block" id="error"></span>
          </div>
  		</div>
      
            <input type="hidden" name="id" id="id" value="{{datosNomina.id}}" />
            <input type="hidden" name="opcion" id="opcion" value="{{opcion}}" />
            <input type="hidden" name="idMenu" id="idMenu" value="{{idMenu}}" />
      
  		
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" form="envioDatos" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>


<script>
	 $().ready(function(){
    $("#envioDatos").validate();
  });

function EnviarFormulario(){
    
      $.ajax({
            url:'index_blank.php?component=Nomina&method=guardarNomina',
            type: "POST",
            data:$('#envioDatos').serialize(),
            success: function (msm){

                $('#miModalEdit').modal('hide');
                location.reload('index_blank.php?component=Nomina&method=mostrarNomina'+{{idMenu}});
            }
          });                  
      
    
}

</script>